<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Notifications</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
<div id="notif-toast-container"></div>
<button class="dark-toggle" onclick="toggleDark()"> <i class="fa-solid fa-moon"></i> </button>
<a href="/dashboard" style="display:block; margin-top:20px;">â¬… Back to Dashboard</a>
<br> <br> <br>
<h2>ðŸ’¬ Notifications</h2>

<ul id="notificationList"></ul>

<script>
    fetch("/api/v1/notifications")
        .then(res => res.json())
        .then(data => {
            const list = document.getElementById("notificationList");
            list.innerHTML = "";

            if (data.length === 0) {
                list.innerHTML = "<li>No notifications</li>";
                return;
            }

            data.forEach(n => {
                const li = document.createElement("li");
                li.textContent = n.message;
                list.appendChild(li);
            });
        });
</script>
<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>  <!-- define-SockJS -->
<script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script> <!--    define Stomp -->
<script src="/js/app.js"></script> <!--loaded after DOM. Guarantees DOM exists-->
</body>
</html>
